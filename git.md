Установим Git
-------------

 

В Gite

устанавливаем глобальные параметры:

**git config --global user.name "Max Berdyugin"**

**git config --global user.email "maksim_bv\@mail.ru"**

Также нам нужно настроить параметры установок окончания строк, для Windows мы
вводим две команды:

**git config --global core.autocrlf true**

**git config --global core.safecrlf false**

**git config --global core.eol native**

генерируем ключи:

**ssh-keygen -t rsa -C "maksim_bv\@mail.ru"**

они создаются в папке \~/.ssh

В поле SSH Keys в настройках профиля на сайте вставляем содержимое из файла
id_rsa.pub

авторизуемся:

**ssh -T git\@github.com**

 

Работа с Git
------------

 

перейдем в папку, где б. лежать папка с проектом

сделаем копию с репозитория (ссылка из св-в репозитория на сайте):

**git clone git\@github.com:Make2000/Max-Berdyugin.git**

Если проекта еще нет на сайте:

-   Инициализируем папку для Git репозитория. Это нужно сделать только один раз
    для каждого проекта.

    **git init**

-   Связываем папку с удаленным репозиторием:

    **git remote add origin https://github.com/LeoXCoder/test_project.git**

добавить файл на сервер:

**git add Linux.txt **`#постановка ф-ла в коммит-кандидат (индексация ф-ла)`

подтвердить добавление ф-ла:

**git commit -m "add new file Linux.txt"**

**gitk** - встроенный редактор для просмотра коммитов

узнать статус репозитория:

**git status**

заливаем на сервер в основную ветку:

**git push origin master** `#следующий раз пишем команду без параметров git
push`

После каких-то изменений в коде, выполняем все те же команды:

**git add .** `#добавляет все сделанные изменения`

**git commit -m "I changed the user module."**

**git push** `#заливает данный коммит на сервер`

Данная команда связывается с указанным удалённым проектом и забирает все те
данные проекта, которых у вас ещё нет. После того как вы выполнили команду, у
вас должны появиться ссылки на все ветки из этого удалённого проекта:

**git fetch [имя удал. сервера]**

`#Важно отметить, что команда fetch забирает данные в ваш локальный репозиторий,
но не сливает их с какими-либо вашими наработками и не модифицирует то, над чем
вы работаете в данный момент. Вам необходимо вручную слить эти данные с вашими,
когда вы будете готовы.`

`#Когда вы клонируете репозиторий, команда clone автоматически добавляет этот
удалённый репозиторий под именем `*origin*`. Таким образом, git fetch
origin извлекает все наработки, отправленные (push) на этот сервер после того,
как вы склонировали его (или получили изменения с помощью fetch). `

Если вы изменили ваши локальные файлы, то команда `git pull` выдаст ошибку. Если
вы уверены, что хотите перезаписать локальные файлы, файлами из удаленного
репозитория то выполните команды:

**git fetch --all**

**git reset --hard [назв. удаленного репозитория]/master**

 

 

выполняем синхронизацию (слияние информации хоста с сервером)

**git rebase**

Для скачивания репозитория используется команда:

**git pull**

Пустую папку залить в git нельзя. Чтобы залить папку нужно создать там ф-л, а
потом при заливке добавить полный путь до ф-ла:

**git add new_dir/new_file.txt**

**git commit -m "..."**

**git push**

Соответственно, чтобы удалить данную папку, необходимо удалить все ф-лы из
папки:

**git rm new_dir/new_file.txt**

Посмотреть лог(историю) коммитов:

**git log \#выйти из истории ctrl+z**

ключи:

\--pretty \#как мы хотим выводить нашу историю

\--pretty=online \#выводить коммиты одной строкой

\--pretty=format \#формат вывода (%h-урезанный хэш, %s-комментарий, %ad-дата
коммита, %an-автор)

\--pretty=format:”%h - %s : %ad [%an]” \#пример

\--max-count \#количество выводимых последних коммитов

\--max-count=3 \#вывести последние 3 коммита

\--all \#вывести все коммиты

\--author \#вывод по автору

\--author=”Max Berdyugin”

\--date \#изменение формата даты

\--date=short \#короткий формат

 

Откат изменений
---------------

 

отмена изменений:

git reset

reset HEAD \#последнее состояние перед сделанными изменениями

reset HEAD file_name \#перед изменениями над ф-лом file_name

reset HEAD хэш_коммита \#вернуть к хэш-коммиту

Полный откат до предыдущего коммита:

**git reset HEAD --hard**

Сброс изменений в файле на версию коммита:

после git reset чтобы удалить все изменения созданные в версиях позже - делаем
git checkout имя_ф-ла

**git checkout хэш_коммита**

после этого git переместится в папку (head) с ф-лами коммита (ls-выведет список
ф-лов, так-же используя gitk смотрим коммиты)

git checkout master \#вернутся в клавную ветку master

Откат до установленного тега, например v1:

**git checkout v1**

удалить коммит:

git revert

чтобы удалить предыдущий коммит:

revert HEAD --no-edit \#без открытия в окне редактирования

чтобы удалить коммит с хэшем ....:

revert хэш_коммита --no-edit

 
